var Zr=Object.defineProperty;var Rt=t=>{throw TypeError(t)};var en=(t,e,r)=>e in t?Zr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var k=(t,e,r)=>en(t,typeof e!="symbol"?e+"":e,r),Pt=(t,e,r)=>e.has(t)||Rt("Cannot "+r);var y=(t,e,r)=>(Pt(t,e,"read from private field"),r?r.call(t):e.get(t)),P=(t,e,r)=>e.has(t)?Rt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),R=(t,e,r,n)=>(Pt(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);import{r as ot,s as tn,n as $t,o as rn}from"./scheduler.BvLojk_z.js";import{t as nn,S as sn,i as on,e as A,s as M,b as de,c as T,d as B,y as G,h as U,g as q,f as he,o as E,j as Q,k as C,z as Y,A as X,B as ur,l as Ke,m as Ft,C as an,D as un}from"./index.Bj7mbeDI.js";import{_ as vt}from"./preload-helper.C1FmrZbK.js";function Te(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function cr(t,e){t.d(1),e.delete(t.key)}function lr(t,e,r,n,s,o,i,a,c,u,l,d){let h=t.length,f=o.length,p=h;const m={};for(;p--;)m[t[p].key]=p;const b=[],w=new Map,S=new Map,x=[];for(p=f;p--;){const g=d(s,o,p),v=r(g);let _=i.get(v);_?x.push(()=>_.p(g,e)):(_=u(v,g),_.c()),w.set(v,b[p]=_),v in m&&S.set(v,Math.abs(p-m[v]))}const O=new Set,I=new Set;function j(g){nn(g,1),g.m(a,l),i.set(g.key,g),l=g.first,f--}for(;h&&f;){const g=b[f-1],v=t[h-1],_=g.key,F=v.key;g===v?(l=g.first,h--,f--):w.has(F)?!i.has(_)||O.has(_)?j(g):I.has(F)?h--:S.get(_)>S.get(F)?(I.add(_),j(g)):(O.add(F),h--):(c(v,i),h--)}for(;h--;){const g=t[h];w.has(g.key)||c(g,i)}for(;f;)j(b[f-1]);return ot(x),b}const fr=!(typeof navigator>"u")&&navigator.product==="ReactNative",dr={timeout:fr?6e4:12e4},cn=function(t){const e={...dr,...typeof t=="string"?{url:t}:t};if(e.timeout=hr(e.timeout),e.query){const{url:r,searchParams:n}=function(s){const o=s.indexOf("?");if(o===-1)return{url:s,searchParams:new URLSearchParams};const i=s.slice(0,o),a=s.slice(o+1);if(!fr)return{url:i,searchParams:new URLSearchParams(a)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const c=new URLSearchParams;for(const u of a.split("&")){const[l,d]=u.split("=");l&&c.append(Dt(l),Dt(d||""))}return{url:i,searchParams:c}}(e.url);for(const[s,o]of Object.entries(e.query)){if(o!==void 0)if(Array.isArray(o))for(const a of o)n.append(s,a);else n.append(s,o);const i=n.toString();i&&(e.url=`${r}?${i}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function Dt(t){return decodeURIComponent(t.replace(/\+/g," "))}function hr(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?hr(dr.timeout):{connect:e,socket:e}}const ln=/^https?:\/\//i,fn=function(t){if(!ln.test(t.url))throw new Error(`"${t.url}" is not a valid URL`)};function pr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const dn=["request","response","progress","error","abort"],Lt=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function yr(t,e){const r=[],n=Lt.reduce((o,i)=>(o[i]=o[i]||[],o),{processOptions:[cn],validateOptions:[fn]});function s(o){const i=dn.reduce((f,p)=>(f[p]=function(){const m=Object.create(null);let b=0;return{publish:function(w){for(const S in m)m[S](w)},subscribe:function(w){const S=b++;return m[S]=w,function(){delete m[S]}}}}(),f),{}),a=(f=>function(p,m,...b){const w=p==="onError";let S=m;for(let x=0;x<f[p].length&&(S=(0,f[p][x])(S,...b),!w||S);x++);return S})(n),c=a("processOptions",o);a("validateOptions",c);const u={options:c,channels:i,applyMiddleware:a};let l;const d=i.request.subscribe(f=>{l=e(f,(p,m)=>((b,w,S)=>{let x=b,O=w;if(!x)try{O=a("onResponse",w,S)}catch(I){O=null,x=I}x=x&&a("onError",x,S),x?i.error.publish(x):O&&i.response.publish(O)})(p,m,f))});i.abort.subscribe(()=>{d(),l&&l.abort()});const h=a("onReturn",i,u);return h===i&&i.request.publish(u),h}return s.use=function(o){if(!o)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof o=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(o.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return Lt.forEach(i=>{o[i]&&n[i].push(o[i])}),r.push(o),s},s.clone=()=>yr(r,e),t.forEach(s.use),s}var at=function(t){return t.replace(/^\s+|\s+$/g,"")},hn=pr(function(t){if(!t)return{};for(var e={},r=at(t).split(`
`),n=0;n<r.length;n++){var s=r[n],o=s.indexOf(":"),i=at(s.slice(0,o)).toLowerCase(),a=at(s.slice(o+1));typeof e[i]>"u"?e[i]=a:(c=e[i],Object.prototype.toString.call(c)==="[object Array]"?e[i].push(a):e[i]=[e[i],a])}var c;return e}),Fe,De,Se,Le,re,Me,Ue,ar;let lt=(ar=class{constructor(){k(this,"onabort");k(this,"onerror");k(this,"onreadystatechange");k(this,"ontimeout");k(this,"readyState",0);k(this,"response");k(this,"responseText","");k(this,"responseType","");k(this,"status");k(this,"statusText");k(this,"withCredentials");P(this,Fe);P(this,De);P(this,Se);P(this,Le,{});P(this,re);P(this,Me,{});P(this,Ue)}open(e,r,n){var s;R(this,Fe,e),R(this,De,r),R(this,Se,""),this.readyState=1,(s=this.onreadystatechange)==null||s.call(this),R(this,re,void 0)}abort(){y(this,re)&&y(this,re).abort()}getAllResponseHeaders(){return y(this,Se)}setRequestHeader(e,r){y(this,Le)[e]=r}setInit(e,r=!0){R(this,Me,e),R(this,Ue,r)}send(e){const r=this.responseType!=="arraybuffer",n={...y(this,Me),method:y(this,Fe),headers:y(this,Le),body:e};typeof AbortController=="function"&&y(this,Ue)&&(R(this,re,new AbortController),typeof EventTarget<"u"&&y(this,re).signal instanceof EventTarget&&(n.signal=y(this,re).signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(y(this,De),n).then(s=>{var o;return s.headers.forEach((i,a)=>{R(this,Se,y(this,Se)+`${a}: ${i}\r
`)}),this.status=s.status,this.statusText=s.statusText,this.readyState=3,(o=this.onreadystatechange)==null||o.call(this),r?s.text():s.arrayBuffer()}).then(s=>{var o;typeof s=="string"?this.responseText=s:this.response=s,this.readyState=4,(o=this.onreadystatechange)==null||o.call(this)}).catch(s=>{var o,i;s.name!=="AbortError"?(o=this.onerror)==null||o.call(this,s):(i=this.onabort)==null||i.call(this)})}},Fe=new WeakMap,De=new WeakMap,Se=new WeakMap,Le=new WeakMap,re=new WeakMap,Me=new WeakMap,Ue=new WeakMap,ar);const ft=typeof XMLHttpRequest=="function"?"xhr":"fetch",pn=ft==="xhr"?XMLHttpRequest:lt,yn=(t,e)=>{const r=t.options,n=t.applyMiddleware("finalizeOptions",r),s={},o=t.applyMiddleware("interceptRequest",void 0,{adapter:ft,context:t});if(o){const m=setTimeout(e,0,null,o);return{abort:()=>clearTimeout(m)}}let i=new pn;i instanceof lt&&typeof n.fetch=="object"&&i.setInit(n.fetch,n.useAbortSignal??!0);const a=n.headers,c=n.timeout;let u=!1,l=!1,d=!1;if(i.onerror=m=>{p(i instanceof lt?m instanceof Error?m:new Error(`Request error while attempting to reach is ${n.url}`,{cause:m}):new Error(`Request error while attempting to reach is ${n.url}${m.lengthComputable?`(${m.loaded} of ${m.total} bytes transferred)`:""}`))},i.ontimeout=m=>{p(new Error(`Request timeout while attempting to reach ${n.url}${m.lengthComputable?`(${m.loaded} of ${m.total} bytes transferred)`:""}`))},i.onabort=()=>{f(!0),u=!0},i.onreadystatechange=()=>{c&&(f(),s.socket=setTimeout(()=>h("ESOCKETTIMEDOUT"),c.socket)),!u&&i.readyState===4&&i.status!==0&&function(){if(!(u||l||d)){if(i.status===0)return void p(new Error("Unknown XHR error"));f(),l=!0,e(null,{body:i.response||(i.responseType===""||i.responseType==="text"?i.responseText:""),url:n.url,method:n.method,headers:hn(i.getAllResponseHeaders()),statusCode:i.status,statusMessage:i.statusText})}}()},i.open(n.method,n.url,!0),i.withCredentials=!!n.withCredentials,a&&i.setRequestHeader)for(const m in a)a.hasOwnProperty(m)&&i.setRequestHeader(m,a[m]);return n.rawBody&&(i.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:n,adapter:ft,request:i,context:t}),i.send(n.body||null),c&&(s.connect=setTimeout(()=>h("ETIMEDOUT"),c.connect)),{abort:function(){u=!0,i&&i.abort()}};function h(m){d=!0,i.abort();const b=new Error(m==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${n.url}`:`Connection timed out on request to ${n.url}`);b.code=m,t.channels.error.publish(b)}function f(m){(m||u||i.readyState>=2&&s.connect)&&clearTimeout(s.connect),s.socket&&clearTimeout(s.socket)}function p(m){if(l)return;f(!0),l=!0,i=null;const b=m||new Error(`Network error while attempting to reach ${n.url}`);b.isNetworkError=!0,b.request=n,e(b)}},mn=(t=[],e=yn)=>yr(t,e);var vn={},Mt,Ut,dt={exports:{}};function gn(){if(Ut)return Mt;Ut=1;var t=1e3,e=60*t,r=60*e,n=24*r,s=7*n,o=365.25*n;function i(a,c,u,l){var d=c>=1.5*u;return Math.round(a/u)+" "+l+(d?"s":"")}return Mt=function(a,c){c=c||{};var u,l,d=typeof a;if(d==="string"&&a.length>0)return function(h){if(!((h=String(h)).length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(f){var p=parseFloat(f[1]);switch((f[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return p*o;case"weeks":case"week":case"w":return p*s;case"days":case"day":case"d":return p*n;case"hours":case"hour":case"hrs":case"hr":case"h":return p*r;case"minutes":case"minute":case"mins":case"min":case"m":return p*e;case"seconds":case"second":case"secs":case"sec":case"s":return p*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}(a);if(d==="number"&&isFinite(a))return c.long?(u=a,(l=Math.abs(u))>=n?i(u,l,n,"day"):l>=r?i(u,l,r,"hour"):l>=e?i(u,l,e,"minute"):l>=t?i(u,l,t,"second"):u+" ms"):function(h){var f=Math.abs(h);return f>=n?Math.round(h/n)+"d":f>=r?Math.round(h/r)+"h":f>=e?Math.round(h/e)+"m":f>=t?Math.round(h/t)+"s":h+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}}var bn=function(t){function e(s){let o,i,a,c=null;function u(...l){if(!u.enabled)return;const d=u,h=Number(new Date),f=h-(o||h);d.diff=f,d.prev=o,d.curr=h,o=h,l[0]=e.coerce(l[0]),typeof l[0]!="string"&&l.unshift("%O");let p=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,(m,b)=>{if(m==="%%")return"%";p++;const w=e.formatters[b];if(typeof w=="function"){const S=l[p];m=w.call(d,S),l.splice(p,1),p--}return m}),e.formatArgs.call(d,l),(d.log||e.log).apply(d,l)}return u.namespace=s,u.useColors=e.useColors(),u.color=e.selectColor(s),u.extend=r,u.destroy=e.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:()=>c!==null?c:(i!==e.namespaces&&(i=e.namespaces,a=e.enabled(s)),a),set:l=>{c=l}}),typeof e.init=="function"&&e.init(u),u}function r(s,o){const i=e(this.namespace+(typeof o>"u"?":":o)+s);return i.log=this.log,i}function n(s){return s.toString().substring(2,s.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(s){return s instanceof Error?s.stack||s.message:s},e.disable=function(){const s=[...e.names.map(n),...e.skips.map(n).map(o=>"-"+o)].join(",");return e.enable(""),s},e.enable=function(s){let o;e.save(s),e.namespaces=s,e.names=[],e.skips=[];const i=(typeof s=="string"?s:"").split(/[\s,]+/),a=i.length;for(o=0;o<a;o++)i[o]&&((s=i[o].replace(/\*/g,".*?"))[0]==="-"?e.skips.push(new RegExp("^"+s.slice(1)+"$")):e.names.push(new RegExp("^"+s+"$")))},e.enabled=function(s){if(s[s.length-1]==="*")return!0;let o,i;for(o=0,i=e.skips.length;o<i;o++)if(e.skips[o].test(s))return!1;for(o=0,i=e.names.length;o<i;o++)if(e.names[o].test(s))return!0;return!1},e.humanize=gn(),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(s=>{e[s]=t[s]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(s){let o=0;for(let i=0;i<s.length;i++)o=(o<<5)-o+s.charCodeAt(i),o|=0;return e.colors[Math.abs(o)%e.colors.length]},e.enable(e.load()),e};(function(t,e){e.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;n.splice(1,0,s,"color: inherit");let o=0,i=0;n[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(o++,a==="%c"&&(i=o))}),n.splice(i,0,s)},e.save=function(n){try{n?e.storage.setItem("debug",n):e.storage.removeItem("debug")}catch{}},e.load=function(){let n;try{n=e.storage.getItem("debug")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=vn.DEBUG),n},e.useColors=function(){return!(!(typeof window<"u"&&window.process)||window.process.type!=="renderer"&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=bn(e);const{formatters:r}=t.exports;r.j=function(n){try{return JSON.stringify(n)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}})(dt,dt.exports);pr(dt.exports);const wn=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t);function Nt(t){return Object.prototype.toString.call(t)==="[object Object]"}function Cn(t){if(Nt(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(Nt(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)}const En=["boolean","string","number"];function _n(){return{processOptions:t=>{const e=t.body;return!e||typeof e.pipe=="function"||wn(e)||En.indexOf(typeof e)===-1&&!Array.isArray(e)&&!Cn(e)?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function Sn(t){return{onResponse:r=>{const n=r.headers["content-type"]||"",s=n.indexOf("application/json")!==-1;return r.body&&n&&s?Object.assign({},r,{body:e(r.body)}):r},processOptions:r=>Object.assign({},r,{headers:Object.assign({Accept:"application/json"},r.headers)})};function e(r){try{return JSON.parse(r)}catch(n){throw n.message=`Failed to parsed response body as JSON: ${n.message}`,n}}}let qe={};typeof globalThis<"u"?qe=globalThis:typeof window<"u"?qe=window:typeof global<"u"?qe=global:typeof self<"u"&&(qe=self);var xn=qe;function On(t={}){const e=t.implementation||xn.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(r,n)=>new e(s=>(r.error.subscribe(o=>s.error(o)),r.progress.subscribe(o=>s.next(Object.assign({type:"progress"},o))),r.response.subscribe(o=>{s.next(Object.assign({type:"response"},o)),s.complete()}),r.request.publish(n),()=>r.abort.publish()))}}function In(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,r=t.context;function n(s){return o=>{const i=o.lengthComputable?o.loaded/o.total*100:-1;r.channels.progress.publish({stage:s,percent:i,total:o.total,loaded:o.loaded,lengthComputable:o.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"))}}}var mr=(t,e,r)=>(r.method==="GET"||r.method==="HEAD")&&(t.isNetworkError||!1);function An(t){return 100*Math.pow(2,t)+100*Math.random()}const gt=(t={})=>(e=>{const r=e.maxRetries||5,n=e.retryDelay||An,s=e.shouldRetry;return{onError:(o,i)=>{const a=i.options,c=a.maxRetries||r,u=a.retryDelay||n,l=a.shouldRetry||s,d=a.attemptNumber||0;if((h=a.body)!==null&&typeof h=="object"&&typeof h.pipe=="function"||!l(o,d,a)||d>=c)return o;var h;const f=Object.assign({},i,{options:Object.assign({},a,{attemptNumber:d+1})});return setTimeout(()=>i.channels.request.publish(f),u(d)),null}}})({shouldRetry:mr,...t});gt.shouldRetry=mr;var ht=function(t,e){return ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},ht(t,e)};function bt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ht(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Tn(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{u(n.next(l))}catch(d){i(d)}}function c(l){try{u(n.throw(l))}catch(d){i(d)}}function u(l){l.done?o(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function vr(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function $e(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function be(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function we(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Ee(t){return this instanceof Ee?(this.v=t,this):new Ee(t)}function jn(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){n[f]&&(s[f]=function(m){return new Promise(function(b,w){o.push([f,m,b,w])>1||c(f,m)})},p&&(s[f]=p(s[f])))}function c(f,p){try{u(n[f](p))}catch(m){h(o[0][3],m)}}function u(f){f.value instanceof Ee?Promise.resolve(f.value.v).then(l,d):h(o[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function kn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof $e=="function"?$e(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(i){return new Promise(function(a,c){i=t[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},i)}}function J(t){return typeof t=="function"}function gr(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var ut=gr(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,s){return s+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Bt(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var wt=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,s,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=$e(i),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(m){e={error:m}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else i.remove(this);var l=this.initialTeardown;if(J(l))try{l()}catch(m){o=m instanceof ut?m.errors:[m]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=$e(d),f=h.next();!f.done;f=h.next()){var p=f.value;try{Vt(p)}catch(m){o=o??[],m instanceof ut?o=we(we([],be(o)),be(m.errors)):o.push(m)}}}catch(m){n={error:m}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(n)throw n.error}}}if(o)throw new ut(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)Vt(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&Bt(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&Bt(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();wt.EMPTY;function br(t){return t instanceof wt||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function Vt(t){J(t)?t():t.unsubscribe()}var wr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cr={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,we([t,e],be(r)))},clearTimeout:function(t){var e=Cr.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Er(t){Cr.setTimeout(function(){throw t})}function Ht(){}function qn(t){t()}var Ct=function(t){bt(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,br(r)&&r.add(n)):n.destination=Fn,n}return e.create=function(r,n,s){return new pt(r,n,s)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(wt),Rn=Function.prototype.bind;function ct(t,e){return Rn.call(t,e)}var Pn=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){Xe(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){Xe(n)}else Xe(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){Xe(r)}},t}(),pt=function(t){bt(e,t);function e(r,n,s){var o=t.call(this)||this,i;if(J(r)||!r)i={next:r??void 0,error:n??void 0,complete:s??void 0};else{var a;o&&wr.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return o.unsubscribe()},i={next:r.next&&ct(r.next,a),error:r.error&&ct(r.error,a),complete:r.complete&&ct(r.complete,a)}):i=r}return o.destination=new Pn(i),o}return e}(Ct);function Xe(t){Er(t)}function $n(t){throw t}var Fn={closed:!0,next:Ht,error:$n,complete:Ht},Et=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function _r(t){return t}function Dn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Sr(t)}function Sr(t){return t.length===0?_r:t.length===1?t[0]:function(r){return t.reduce(function(n,s){return s(n)},r)}}var K=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var s=this,o=Mn(e)?e:new pt(e,r,n);return qn(function(){var i=s,a=i.operator,c=i.source;o.add(a?a.call(o,c):c?s._subscribe(o):s._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=zt(r),new r(function(s,o){var i=new pt({next:function(a){try{e(a)}catch(c){o(c),i.unsubscribe()}},error:o,complete:s});n.subscribe(i)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[Et]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Sr(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=zt(e),new e(function(n,s){var o;r.subscribe(function(i){return o=i},function(i){return s(i)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function zt(t){var e;return(e=t??wr.Promise)!==null&&e!==void 0?e:Promise}function Ln(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function Mn(t){return t&&t instanceof Ct||Ln(t)&&br(t)}function Un(t){return J(t==null?void 0:t.lift)}function _t(t){return function(e){if(Un(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function St(t,e,r,n,s){return new Nn(t,e,r,n,s)}var Nn=function(t){bt(e,t);function e(r,n,s,o,i,a){var c=t.call(this,r)||this;return c.onFinalize=i,c.shouldUnsubscribe=a,c._next=n?function(u){try{n(u)}catch(l){r.error(l)}}:t.prototype._next,c._error=o?function(u){try{o(u)}catch(l){r.error(l)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=s?function(){try{s()}catch(u){r.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,c}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(Ct);function Bn(t){return t[t.length-1]}function Vn(t){return J(Bn(t))?t.pop():void 0}var Hn=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function zn(t){return J(t==null?void 0:t.then)}function Jn(t){return J(t[Et])}function Gn(t){return Symbol.asyncIterator&&J(t==null?void 0:t[Symbol.asyncIterator])}function Qn(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Wn(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Yn=Wn();function Xn(t){return J(t==null?void 0:t[Yn])}function Kn(t){return jn(this,arguments,function(){var r,n,s,o;return vr(this,function(i){switch(i.label){case 0:r=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,Ee(r.read())];case 3:return n=i.sent(),s=n.value,o=n.done,o?[4,Ee(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,Ee(s)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function Zn(t){return J(t==null?void 0:t.getReader)}function es(t){if(t instanceof K)return t;if(t!=null){if(Jn(t))return ts(t);if(Hn(t))return rs(t);if(zn(t))return ns(t);if(Gn(t))return xr(t);if(Xn(t))return ss(t);if(Zn(t))return os(t)}throw Qn(t)}function ts(t){return new K(function(e){var r=t[Et]();if(J(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rs(t){return new K(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function ns(t){return new K(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Er)})}function ss(t){return new K(function(e){var r,n;try{for(var s=$e(t),o=s.next();!o.done;o=s.next()){var i=o.value;if(e.next(i),e.closed)return}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}e.complete()})}function xr(t){return new K(function(e){is(t,e).catch(function(r){return e.error(r)})})}function os(t){return xr(Kn(t))}function is(t,e){var r,n,s,o;return Tn(this,void 0,void 0,function(){var i,a;return vr(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=kn(t),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(i=n.value,e.next(i),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),s={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Or(t,e){return es(t)}var as=gr(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function H(t,e){return new Promise(function(r,n){var s=!1,o;t.subscribe({next:function(i){o=i,s=!0},error:n,complete:function(){s?r(o):n(new as)}})})}function oe(t,e){return _t(function(r,n){var s=0;r.subscribe(St(n,function(o){n.next(t.call(e,o,s++))}))})}var us=Array.isArray;function cs(t,e){return us(e)?t.apply(void 0,we([],be(e))):t(e)}function ls(t){return oe(function(e){return cs(t,e)})}function fs(t,e,r){return r===void 0&&(r=_r),function(n){Jt(e,function(){for(var s=t.length,o=new Array(s),i=s,a=s,c=function(l){Jt(e,function(){var d=Or(t[l]),h=!1;d.subscribe(St(n,function(f){o[l]=f,h||(h=!0,a--),a||n.next(r(o.slice()))},function(){--i||n.complete()}))},n)},u=0;u<s;u++)c(u)})}}function Jt(t,e,r){e()}var ds=Array.isArray;function hs(t){return t.length===1&&ds(t[0])?t[0]:t}function We(t,e){return _t(function(r,n){var s=0;r.subscribe(St(n,function(o){return t.call(e,o,s++)&&n.next(o)}))})}function Ir(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Vn(t);return r?Dn(Ir.apply(void 0,we([],be(t))),ls(r)):_t(function(n,s){fs(we([n],be(hs(t))))(s)})}function ps(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ir.apply(void 0,we([],be(t)))}var Ar={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},xt={0:8203,1:8204,2:8205,3:65279},ys=new Array(4).fill(String.fromCodePoint(xt[0])).join("");function ms(t){let e=JSON.stringify(t);return`${ys}${Array.from(e).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map(s=>String.fromCodePoint(xt[s])).join("")}).join("")}`}function vs(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function gs(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function Do(t,e,r="auto"){return r===!0||r==="auto"&&(vs(t)||gs(t))?t:`${t}${ms(e)}`}Object.fromEntries(Object.entries(xt).map(t=>t.reverse()));Object.fromEntries(Object.entries(Ar).map(t=>t.reverse()));var bs=`${Object.values(Ar).map(t=>`\\u{${t.toString(16)}}`).join("")}`,Gt=new RegExp(`[${bs}]{4,}`,"gu");function ws(t){var e;return{cleaned:t.replace(Gt,""),encoded:((e=t.match(Gt))==null?void 0:e[0])||""}}function Cs(t){return t&&JSON.parse(ws(JSON.stringify(t)).cleaned)}function Es(t){return Cs(t)}class _s extends Error{constructor(r){const n=Tr(r);super(n.message);k(this,"response");k(this,"statusCode",400);k(this,"responseBody");k(this,"details");Object.assign(this,n)}}class Ss extends Error{constructor(r){const n=Tr(r);super(n.message);k(this,"response");k(this,"statusCode",500);k(this,"responseBody");k(this,"details");Object.assign(this,n)}}function Tr(t){const e=t.body,r={response:t,statusCode:t.statusCode,responseBody:As(e,t),message:"",details:void 0};if(e.error&&e.message)return r.message=`${e.error} - ${e.message}`,r;if(xs(e)||Os(e)){const n=e.error.items||[],s=n.slice(0,5).map(i=>{var a;return(a=i.error)==null?void 0:a.description}).filter(Boolean);let o=s.length?`:
- ${s.join(`
- `)}`:"";return n.length>5&&(o+=`
...and ${n.length-5} more`),r.message=`${e.error.description}${o}`,r.details=e.error,r}return e.error&&e.error.description?(r.message=e.error.description,r.details=e.error,r):(r.message=e.error||e.message||Is(t),r)}function xs(t){return Ze(t)&&Ze(t.error)&&t.error.type==="mutationError"&&typeof t.error.description=="string"}function Os(t){return Ze(t)&&Ze(t.error)&&t.error.type==="actionError"&&typeof t.error.description=="string"}function Ze(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Is(t){const e=t.statusMessage?` ${t.statusMessage}`:"";return`${t.method}-request to ${t.url} resulted in HTTP ${t.statusCode}${e}`}function As(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}const Ts={onResponse:t=>{if(t.statusCode>=500)throw new Ss(t);if(t.statusCode>=400)throw new _s(t);return t}},js={onResponse:t=>{const e=t.headers["x-sanity-warning"];return(Array.isArray(e)?e:[e]).filter(Boolean).forEach(r=>console.warn(r)),t}};function ks(t){return mn([gt({shouldRetry:qs}),...t,js,_n(),Sn(),In(),Ts,On({implementation:K})])}function qs(t,e,r){if(r.maxRetries===0)return!1;const n=r.method==="GET"||r.method==="HEAD",s=(r.uri||r.url).startsWith("/data/query"),o=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(n||s)&&o?!0:gt.shouldRetry(t,e,r)}function jr(t){if(typeof t=="string")return{id:t};if(Array.isArray(t))return{query:"*[_id in $ids]",params:{ids:t}};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}const Qt=["image","file"],Wt=["before","after","replace"],kr=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Rs=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Ps=t=>{if(Qt.indexOf(t)===-1)throw new Error(`Invalid asset type: ${t}. Must be one of ${Qt.join(", ")}`)},Re=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${t}() takes an object of properties`)},qr=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${t}(): "${e}" is not a valid document ID`)},et=(t,e)=>{if(!e._id)throw new Error(`${t}() requires that the document contains an ID ("_id" property)`);qr(t,e._id)},$s=(t,e,r)=>{const n="insert(at, selector, items)";if(Wt.indexOf(t)===-1){const s=Wt.map(o=>`"${o}"`).join(", ");throw new Error(`${n} takes an "at"-argument which is one of: ${s}`)}if(typeof e!="string")throw new Error(`${n} takes a "selector"-argument which must be a string`);if(!Array.isArray(r))throw new Error(`${n} takes an "items"-argument which must be an array`)},Rr=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},Pr=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t};class $r{constructor(e,r={}){k(this,"selection");k(this,"operations");this.selection=e,this.operations=r}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return Re("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,r,n){return $s(e,r,n),this._assign("insert",{[e]:r,items:n})}append(e,r){return this.insert("after",`${e}[-1]`,r)}prepend(e,r){return this.insert("before",`${e}[0]`,r)}splice(e,r,n,s){const o=typeof n>"u"||n===-1,i=r<0?r-1:r,a=o?-1:Math.max(0,r+n),c=i<0&&a>=0?"":a,u=`${e}[${i}:${c}]`;return this.insert("replace",u,s||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...jr(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,r,n=!0){return Re(e,r),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},r)}),this}_set(e,r){return this._assign(e,r,!1)}}var pe;const Tt=class Tt extends $r{constructor(r,n,s){super(r,n);P(this,pe);R(this,pe,s)}clone(){return new Tt(this.selection,{...this.operations},y(this,pe))}commit(r){if(!y(this,pe))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",s=Object.assign({returnFirst:n,returnDocuments:!0},r);return y(this,pe).mutate({patch:this.serialize()},s)}};pe=new WeakMap;let ve=Tt;var ye;const jt=class jt extends $r{constructor(r,n,s){super(r,n);P(this,ye);R(this,ye,s)}clone(){return new jt(this.selection,{...this.operations},y(this,ye))}commit(r){if(!y(this,ye))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",s=Object.assign({returnFirst:n,returnDocuments:!0},r);return y(this,ye).mutate({patch:this.serialize()},s)}};ye=new WeakMap;let ge=jt;const Fr={returnDocuments:!1};class Dr{constructor(e=[],r){k(this,"operations");k(this,"trxId");this.operations=e,this.trxId=r}create(e){return Re("create",e),this._add({create:e})}createIfNotExists(e){const r="createIfNotExists";return Re(r,e),et(r,e),this._add({[r]:e})}createOrReplace(e){const r="createOrReplace";return Re(r,e),et(r,e),this._add({[r]:e})}delete(e){return qr("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}var ie;const kt=class kt extends Dr{constructor(r,n,s){super(r,s);P(this,ie);R(this,ie,n)}clone(){return new kt([...this.operations],y(this,ie),this.trxId)}commit(r){if(!y(this,ie))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return y(this,ie).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Fr,r||{}))}patch(r,n){const s=typeof n=="function";if(typeof r!="string"&&r instanceof ge)return this._add({patch:r.serialize()});if(s){const o=n(new ge(r,{},y(this,ie)));if(!(o instanceof ge))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:{id:r,...n}})}};ie=new WeakMap;let tt=kt;var ae;const qt=class qt extends Dr{constructor(r,n,s){super(r,s);P(this,ae);R(this,ae,n)}clone(){return new qt([...this.operations],y(this,ae),this.trxId)}commit(r){if(!y(this,ae))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return y(this,ae).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Fr,r||{}))}patch(r,n){const s=typeof n=="function";if(typeof r!="string"&&r instanceof ve)return this._add({patch:r.serialize()});if(s){const o=n(new ve(r,{},y(this,ae)));if(!(o instanceof ve))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:{id:r,...n}})}};ae=new WeakMap;let rt=qt;const Fs="https://www.sanity.io/help/";function Ot(t){return Fs+t}function Ds(t){let e=!1,r;return(...n)=>(e||(r=t(...n),e=!0),r)}const je=t=>Ds((...e)=>console.warn(t.join(" "),...e)),Ls=je(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),Ms=je(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Us=je(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Ns=je(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${Ot("js-client-browser-token")} for more information and how to hide this warning.`]),Bs=je(["Using the Sanity client without specifying an API version is deprecated.",`See ${Ot("js-client-api-version")}`]),Vs=je(["The default export of @sanity/client has been deprecated. Use the named export `createClient` instead."]),Hs="apicdn.sanity.io",Pe={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},zs=["localhost","127.0.0.1","0.0.0.0"],Js=t=>zs.indexOf(t)!==-1;function Gs(t){if(t==="1"||t==="X")return;const e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}const Lr=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},Mr=(t,e)=>{const r={...e,...t,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||Pe.stega,...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||{}}};r.apiVersion||Bs();const n={...Pe,...r},s=n.useProjectHostname;if(typeof Promise>"u"){const d=Ot("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${d}`)}if(s&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(typeof n.perspective=="string"&&Lr(n.perspective),"encodeSourceMap"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof n.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${n.stega.enabled}`);if(n.stega.enabled&&n.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(n.stega.enabled&&typeof n.stega.studioUrl!="string"&&typeof n.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${n.stega.studioUrl}`);const o=typeof window<"u"&&window.location&&window.location.hostname,i=o&&Js(window.location.hostname);o&&i&&n.token&&n.ignoreBrowserTokenWarning!==!0?Ns():typeof n.useCdn>"u"&&Ms(),s&&Rs(n.projectId),n.dataset&&kr(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?Pr(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion=`${n.apiVersion}`.replace(/^v/,""),n.isDefaultApi=n.apiHost===Pe.apiHost,n.useCdn===!0&&n.withCredentials&&Ls(),n.useCdn=n.useCdn!==!1&&!n.withCredentials,Gs(n.apiVersion);const a=n.apiHost.split("://",2),c=a[0],u=a[1],l=n.isDefaultApi?Hs:u;return n.useProjectHostname?(n.url=`${c}://${n.projectId}.${u}/v${n.apiVersion}`,n.cdnUrl=`${c}://${n.projectId}.${l}/v${n.apiVersion}`):(n.url=`${n.apiHost}/v${n.apiVersion}`,n.cdnUrl=n.url),n},Qs="X-Sanity-Project-ID";function Ws(t,e={}){const r={},n=e.token||t.token;n&&(r.Authorization=`Bearer ${n}`),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(r[Qs]=t.projectId);const s=!!(typeof e.withCredentials>"u"?t.token||t.withCredentials:e.withCredentials),o=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},r,e.headers||{}),timeout:typeof o>"u"?5*60*1e3:o,proxy:e.proxy||t.proxy,json:!0,withCredentials:s,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}const Ur=({query:t,params:e={},options:r={}})=>{const n=new URLSearchParams,{tag:s,includeMutations:o,returnQuery:i,...a}=r;s&&n.append("tag",s),n.append("query",t);for(const[c,u]of Object.entries(e))n.append(`$${c}`,JSON.stringify(u));for(const[c,u]of Object.entries(a))u&&n.append(c,`${u}`);return i===!1&&n.append("returnQuery","false"),o===!1&&n.append("includeMutations","false"),`?${n}`},Ys=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,Xs=(t={})=>({dryRun:t.dryRun,returnIds:!0,returnDocuments:Ys(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}),It=t=>t.type==="response",Ks=t=>t.body,Zs=(t,e)=>t.reduce((r,n)=>(r[e(n)]=n,r),Object.create(null)),eo=11264;function Nr(t,e,r,n,s={},o={}){const i="stega"in o?{...r||{},...typeof o.stega=="boolean"?{enabled:o.stega}:o.stega||{}}:r,a=i.enabled?Es(s):s,c=o.filterResponse===!1?p=>p:p=>p.result,{cache:u,next:l,...d}={useAbortSignal:typeof o.signal<"u",resultSourceMap:i.enabled?"withKeyArraySelector":o.resultSourceMap,...o,returnQuery:o.filterResponse===!1&&o.returnQuery!==!1},h=typeof u<"u"||typeof l<"u"?{...d,fetch:{cache:u,next:l}}:d,f=ke(t,e,"query",{query:n,params:a},h);return i.enabled?f.pipe(ps(Or(vt(()=>import("./stegaEncodeSourceMap.FmN3_YHa.js"),[],import.meta.url).then(function(p){return p.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:p})=>p))),oe(([p,m])=>{const b=m(p.result,p.resultSourceMap,i);return c({...p,result:b})})):f.pipe(oe(c))}function Br(t,e,r,n={}){const s={uri:Ce(t,"doc",r),json:!0,tag:n.tag,signal:n.signal};return Ye(t,e,s).pipe(We(It),oe(o=>o.body.documents&&o.body.documents[0]))}function Vr(t,e,r,n={}){const s={uri:Ce(t,"doc",r.join(",")),json:!0,tag:n.tag,signal:n.signal};return Ye(t,e,s).pipe(We(It),oe(o=>{const i=Zs(o.body.documents||[],a=>a._id);return r.map(a=>i[a]||null)}))}function Hr(t,e,r,n){return et("createIfNotExists",r),it(t,e,r,"createIfNotExists",n)}function zr(t,e,r,n){return et("createOrReplace",r),it(t,e,r,"createOrReplace",n)}function Jr(t,e,r,n){return ke(t,e,"mutate",{mutations:[{delete:jr(r)}]},n)}function Gr(t,e,r,n){let s;r instanceof ge||r instanceof ve?s={patch:r.serialize()}:r instanceof tt||r instanceof rt?s=r.serialize():s=r;const o=Array.isArray(s)?s:[s],i=n&&n.transactionId||void 0;return ke(t,e,"mutate",{mutations:o,transactionId:i},n)}function Qr(t,e,r,n){const s=Array.isArray(r)?r:[r],o=n&&n.transactionId||void 0,i=n&&n.skipCrossDatasetReferenceValidation||void 0,a=n&&n.dryRun||void 0;return ke(t,e,"actions",{actions:s,transactionId:o,skipCrossDatasetReferenceValidation:i,dryRun:a},n)}function ke(t,e,r,n,s={}){const o=r==="mutate",i=r==="actions",a=r==="query",c=o||i?"":Ur(n),u=!o&&!i&&c.length<eo,l=u?c:"",d=s.returnFirst,{timeout:h,token:f,tag:p,headers:m,returnQuery:b,lastLiveEventId:w}=s,S=Ce(t,r,l),x={method:u?"GET":"POST",uri:S,json:!0,body:u?void 0:n,query:o&&Xs(s),timeout:h,headers:m,token:f,tag:p,returnQuery:b,perspective:s.perspective,resultSourceMap:s.resultSourceMap,lastLiveEventId:Array.isArray(w)?w[0]:w,canUseCdn:a,signal:s.signal,fetch:s.fetch,useAbortSignal:s.useAbortSignal,useCdn:s.useCdn};return Ye(t,e,x).pipe(We(It),oe(Ks),oe(O=>{if(!o)return O;const I=O.results||[];if(s.returnDocuments)return d?I[0]&&I[0].document:I.map(v=>v.document);const j=d?"documentId":"documentIds",g=d?I[0]&&I[0].id:I.map(v=>v.id);return{transactionId:O.transactionId,results:I,[j]:g}}))}function it(t,e,r,n,s={}){const o={[n]:r},i=Object.assign({returnFirst:!0,returnDocuments:!0},s);return ke(t,e,"mutate",{mutations:[o]},i)}function Ye(t,e,r){const n=r.url||r.uri,s=t.config(),o=typeof r.canUseCdn>"u"?["GET","HEAD"].indexOf(r.method||"GET")>=0&&n.indexOf("/data/")===0:r.canUseCdn;let i=(r.useCdn??s.useCdn)&&o;const a=r.tag&&s.requestTagPrefix?[s.requestTagPrefix,r.tag].join("."):r.tag||s.requestTagPrefix;if(a&&r.tag!==null&&(r.query={tag:Pr(a),...r.query}),["GET","HEAD","POST"].indexOf(r.method||"GET")>=0&&n.indexOf("/data/query/")===0){const l=r.resultSourceMap??s.resultSourceMap;l!==void 0&&l!==!1&&(r.query={resultSourceMap:l,...r.query});const d=r.perspective||s.perspective;typeof d=="string"&&d!=="raw"&&(Lr(d),r.query={perspective:d,...r.query},d==="previewDrafts"&&i&&(i=!1,Us())),r.lastLiveEventId&&(r.query={...r.query,lastLiveEventId:r.lastLiveEventId}),r.returnQuery===!1&&(r.query={returnQuery:"false",...r.query})}const c=Ws(s,Object.assign({},r,{url:At(t,n,i)})),u=new K(l=>e(c,s.requester).subscribe(l));return r.signal?u.pipe(to(r.signal)):u}function ee(t,e,r){return Ye(t,e,r).pipe(We(n=>n.type==="response"),oe(n=>n.body))}function Ce(t,e,r){const n=t.config(),s=Rr(n),o=`/${e}/${s}`;return`/data${r?`${o}/${r}`:o}`.replace(/\/($|\?)/,"$1")}function At(t,e,r=!1){const{url:n,cdnUrl:s}=t.config();return`${r?s:n}/${e.replace(/^\//,"")}`}function to(t){return e=>new K(r=>{const n=()=>r.error(no(t));if(t&&t.aborted){n();return}const s=e.subscribe(r);return t.addEventListener("abort",n),()=>{t.removeEventListener("abort",n),s.unsubscribe()}})}const ro=!!globalThis.DOMException;function no(t){if(ro)return new DOMException((t==null?void 0:t.reason)??"The operation was aborted.","AbortError");const e=new Error((t==null?void 0:t.reason)??"The operation was aborted.");return e.name="AbortError",e}var Ne,Be;class so{constructor(e,r){P(this,Ne);P(this,Be);R(this,Ne,e),R(this,Be,r)}upload(e,r,n){return Wr(y(this,Ne),y(this,Be),e,r,n)}}Ne=new WeakMap,Be=new WeakMap;var Ve,He;class oo{constructor(e,r){P(this,Ve);P(this,He);R(this,Ve,e),R(this,He,r)}upload(e,r,n){const s=Wr(y(this,Ve),y(this,He),e,r,n);return H(s.pipe(We(o=>o.type==="response"),oe(o=>o.body.document)))}}Ve=new WeakMap,He=new WeakMap;function Wr(t,e,r,n,s={}){Ps(r);let o=s.extract||void 0;o&&!o.length&&(o=["none"]);const i=Rr(t.config()),a=r==="image"?"images":"files",c=io(s,n),{tag:u,label:l,title:d,description:h,creditLine:f,filename:p,source:m}=c,b={label:l,title:d,description:h,filename:p,meta:o,creditLine:f};return m&&(b.sourceId=m.id,b.sourceName=m.name,b.sourceUrl=m.url),Ye(t,e,{tag:u,method:"POST",timeout:c.timeout||0,uri:`/assets/${a}/${i}`,headers:c.contentType?{"Content-Type":c.contentType}:{},query:b,body:n})}function io(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var ao=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((r,n)=>(r[n]=typeof t[n]>"u"?e[n]:t[n],r),{});const uo=(t,e)=>e.reduce((r,n)=>(typeof t[n]>"u"||(r[n]=t[n]),r),{}),co=14800,lo=["includePreviousRevision","includeResult","includeMutations","visibility","effectFormat","tag"],fo={includeResult:!0};function Yr(t,e,r={}){const{url:n,token:s,withCredentials:o,requestTagPrefix:i}=this.config(),a=r.tag&&i?[i,r.tag].join("."):r.tag,c={...ao(r,fo),tag:a},u=uo(c,lo),l=Ur({query:t,params:e,options:{tag:a,...u}}),d=`${n}${Ce(this,"listen",l)}`;if(d.length>co)return new K(m=>m.error(new Error("Query too large for listener")));const h=c.events?c.events:["mutation"],f=h.indexOf("reconnect")!==-1,p={};return(s||o)&&(p.withCredentials=!0),s&&(p.headers={Authorization:`Bearer ${s}`}),new K(m=>{let b,w,S=!1,x=!1;$();function O(){S||(_(),!S&&b.readyState===b.CLOSED&&(v(),clearTimeout(w),w=setTimeout($,100)))}function I(L){m.error(ho(L))}function j(L){const D=Xr(L);return D instanceof Error?m.error(D):m.next(D)}function g(){S=!0,v(),m.complete()}function v(){b&&(b.removeEventListener("error",O),b.removeEventListener("channelError",I),b.removeEventListener("disconnect",g),h.forEach(L=>b.removeEventListener(L,j)),b.close())}function _(){f&&m.next({type:"reconnect"})}async function F(){const{default:L}=await vt(async()=>{const{default:W}=await import("./browser.Bk-ImVM4.js").then(Z=>Z.b);return{default:W}},[],import.meta.url);if(x)return;const D=new L(d,p);return D.addEventListener("error",O),D.addEventListener("channelError",I),D.addEventListener("disconnect",g),h.forEach(W=>D.addEventListener(W,j)),D}function $(){F().then(L=>{L&&(b=L,x&&v())}).catch(L=>{m.error(L),z()})}function z(){S=!0,v(),x=!0}return z})}function Xr(t){try{const e=t.data&&JSON.parse(t.data)||{};return Object.assign({type:t.type},e)}catch(e){return e}}function ho(t){if(t instanceof Error)return t;const e=Xr(t);return e instanceof Error?e:new Error(po(e))}function po(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}const Yt="2021-03-26";var me;class Kr{constructor(e){P(this,me);R(this,me,e)}events({includeDrafts:e=!1,tag:r}={}){const{apiVersion:n,token:s,withCredentials:o,requestTagPrefix:i}=y(this,me).config(),a=n.replace(/^v/,"");if(a!=="X"&&a<Yt)throw new Error(`The live events API requires API version ${Yt} or later. The current API version is ${a}. Please update your API version to use this feature.`);if(e&&!s&&!o)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");if(e&&a!=="X")throw new Error("The live events API requires API version X when 'includeDrafts: true'. This API is experimental and may change or even be removed.");const c=Ce(y(this,me),"live/events"),u=new URL(y(this,me).getUrl(c,!1)),l=r&&i?[i,r].join("."):r;l&&u.searchParams.set("tag",l),e&&u.searchParams.set("includeDrafts","true");const d=["restart","message","welcome","reconnect"],h={};return e&&s&&(h.headers={Authorization:`Bearer ${s}`}),e&&o&&(h.withCredentials=!0),new K(f=>{let p,m,b=!1,w=!1;j();function S(v){if(!b){if("data"in v){const _=Xt(v);f.error(new Error(_.message,{cause:_}))}p.readyState===p.CLOSED&&(O(),clearTimeout(m),m=setTimeout(j,100))}}function x(v){const _=Xt(v);return _ instanceof Error?f.error(_):f.next(_)}function O(){if(p){p.removeEventListener("error",S);for(const v of d)p.removeEventListener(v,x);p.close()}}async function I(){const v=typeof EventSource>"u"||h.headers||h.withCredentials?(await vt(async()=>{const{default:F}=await import("./browser.Bk-ImVM4.js").then($=>$.b);return{default:F}},[],import.meta.url)).default:EventSource;if(w)return;const _=new v(u.toString(),h);_.addEventListener("error",S);for(const F of d)_.addEventListener(F,x);return _}function j(){I().then(v=>{v&&(p=v,w&&O())}).catch(v=>{f.error(v),g()})}function g(){b=!0,O(),w=!0}return g})}}me=new WeakMap;function Xt(t){try{const e=t.data&&JSON.parse(t.data)||{};return{type:t.type,id:t.lastEventId,...e}}catch(e){return e}}var ue,ce;class yo{constructor(e,r){P(this,ue);P(this,ce);R(this,ue,e),R(this,ce,r)}create(e,r){return _e(y(this,ue),y(this,ce),"PUT",e,r)}edit(e,r){return _e(y(this,ue),y(this,ce),"PATCH",e,r)}delete(e){return _e(y(this,ue),y(this,ce),"DELETE",e)}list(){return ee(y(this,ue),y(this,ce),{uri:"/datasets",tag:null})}}ue=new WeakMap,ce=new WeakMap;var le,fe;class mo{constructor(e,r){P(this,le);P(this,fe);R(this,le,e),R(this,fe,r)}create(e,r){return H(_e(y(this,le),y(this,fe),"PUT",e,r))}edit(e,r){return H(_e(y(this,le),y(this,fe),"PATCH",e,r))}delete(e){return H(_e(y(this,le),y(this,fe),"DELETE",e))}list(){return H(ee(y(this,le),y(this,fe),{uri:"/datasets",tag:null}))}}le=new WeakMap,fe=new WeakMap;function _e(t,e,r,n,s){return kr(n),ee(t,e,{method:r,uri:`/datasets/${n}`,body:s,tag:null})}var xe,Oe;class vo{constructor(e,r){P(this,xe);P(this,Oe);R(this,xe,e),R(this,Oe,r)}list(e){const r=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return ee(y(this,xe),y(this,Oe),{uri:r})}getById(e){return ee(y(this,xe),y(this,Oe),{uri:`/projects/${e}`})}}xe=new WeakMap,Oe=new WeakMap;var Ie,Ae;class go{constructor(e,r){P(this,Ie);P(this,Ae);R(this,Ie,e),R(this,Ae,r)}list(e){const r=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return H(ee(y(this,Ie),y(this,Ae),{uri:r}))}getById(e){return H(ee(y(this,Ie),y(this,Ae),{uri:`/projects/${e}`}))}}Ie=new WeakMap,Ae=new WeakMap;var ze,Je;class bo{constructor(e,r){P(this,ze);P(this,Je);R(this,ze,e),R(this,Je,r)}getById(e){return ee(y(this,ze),y(this,Je),{uri:`/users/${e}`})}}ze=new WeakMap,Je=new WeakMap;var Ge,Qe;class wo{constructor(e,r){P(this,Ge);P(this,Qe);R(this,Ge,e),R(this,Qe,r)}getById(e){return H(ee(y(this,Ge),y(this,Qe),{uri:`/users/${e}`}))}}Ge=new WeakMap,Qe=new WeakMap;var ne,V;const nt=class nt{constructor(e,r=Pe){k(this,"assets");k(this,"datasets");k(this,"live");k(this,"projects");k(this,"users");P(this,ne);P(this,V);k(this,"listen",Yr);this.config(r),R(this,V,e),this.assets=new so(this,y(this,V)),this.datasets=new yo(this,y(this,V)),this.live=new Kr(this),this.projects=new vo(this,y(this,V)),this.users=new bo(this,y(this,V))}clone(){return new nt(y(this,V),this.config())}config(e){if(e===void 0)return{...y(this,ne)};if(y(this,ne)&&y(this,ne).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return R(this,ne,Mr(e,y(this,ne)||{})),this}withConfig(e){const r=this.config();return new nt(y(this,V),{...r,...e,stega:{...r.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,r,n){return Nr(this,y(this,V),y(this,ne).stega,e,r,n)}getDocument(e,r){return Br(this,y(this,V),e,r)}getDocuments(e,r){return Vr(this,y(this,V),e,r)}create(e,r){return it(this,y(this,V),e,"create",r)}createIfNotExists(e,r){return Hr(this,y(this,V),e,r)}createOrReplace(e,r){return zr(this,y(this,V),e,r)}delete(e,r){return Jr(this,y(this,V),e,r)}mutate(e,r){return Gr(this,y(this,V),e,r)}patch(e,r){return new ve(e,r,this)}transaction(e){return new rt(e,this)}action(e,r){return Qr(this,y(this,V),e,r)}request(e){return ee(this,y(this,V),e)}getUrl(e,r){return At(this,e,r)}getDataUrl(e,r){return Ce(this,e,r)}};ne=new WeakMap,V=new WeakMap;let yt=nt;var se,N;const st=class st{constructor(e,r=Pe){k(this,"assets");k(this,"datasets");k(this,"live");k(this,"projects");k(this,"users");k(this,"observable");P(this,se);P(this,N);k(this,"listen",Yr);this.config(r),R(this,N,e),this.assets=new oo(this,y(this,N)),this.datasets=new mo(this,y(this,N)),this.live=new Kr(this),this.projects=new go(this,y(this,N)),this.users=new wo(this,y(this,N)),this.observable=new yt(e,r)}clone(){return new st(y(this,N),this.config())}config(e){if(e===void 0)return{...y(this,se)};if(y(this,se)&&y(this,se).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),R(this,se,Mr(e,y(this,se)||{})),this}withConfig(e){const r=this.config();return new st(y(this,N),{...r,...e,stega:{...r.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,r,n){return H(Nr(this,y(this,N),y(this,se).stega,e,r,n))}getDocument(e,r){return H(Br(this,y(this,N),e,r))}getDocuments(e,r){return H(Vr(this,y(this,N),e,r))}create(e,r){return H(it(this,y(this,N),e,"create",r))}createIfNotExists(e,r){return H(Hr(this,y(this,N),e,r))}createOrReplace(e,r){return H(zr(this,y(this,N),e,r))}delete(e,r){return H(Jr(this,y(this,N),e,r))}mutate(e,r){return H(Gr(this,y(this,N),e,r))}patch(e,r){return new ge(e,r,this)}transaction(e){return new tt(e,this)}action(e,r){return H(Qr(this,y(this,N),e,r))}request(e){return H(ee(this,y(this,N),e))}dataRequest(e,r,n){return H(ke(this,y(this,N),e,r,n))}getUrl(e,r){return At(this,e,r)}getDataUrl(e,r){return Ce(this,e,r)}};se=new WeakMap,N=new WeakMap;let mt=st;function Co(t,e){const r=ks(t);return{requester:r,createClient:n=>new e((s,o)=>(o||r)({maxRedirects:0,maxRetries:n.maxRetries,retryDelay:n.retryDelay,...s}),n)}}function Eo(t){return function(e){return Vs(),t(e)}}var _o=[];const So=Co(_o,mt),xo=So.createClient,Oo=Eo(xo),Io=Oo({projectId:"scr4fyl4",dataset:"production",apiVersion:"2023-09-01",useCdn:!0});function Kt(t,e,r){const n=t.slice();return n[21]=e[r],n[23]=r,n}function Zt(t,e,r){const n=t.slice();return n[24]=e[r],n[25]=e,n[26]=r,n}function er(t,e,r){const n=t.slice();return n[27]=e[r],n}function tr(t){let e,r,n,s="Sign Up",o,i,a,c,u="Username",l,d,h,f,p,m="Password",b,w,S,x,O,I="Cancel",j,g,v="Sign Up",_,F;return{c(){e=A("div"),r=A("div"),n=A("div"),n.textContent=s,o=M(),i=A("form"),a=A("div"),c=A("label"),c.textContent=u,l=M(),d=A("input"),h=M(),f=A("div"),p=A("label"),p.textContent=m,b=M(),w=A("input"),S=M(),x=A("div"),O=A("button"),O.textContent=I,j=M(),g=A("button"),g.textContent=v,this.h()},l($){e=T($,"DIV",{class:!0});var z=B(e);r=T(z,"DIV",{class:!0});var L=B(r);n=T(L,"DIV",{class:!0,"data-svelte-h":!0}),G(n)!=="svelte-hha5ca"&&(n.textContent=s),o=U(L),i=T(L,"FORM",{});var D=B(i);a=T(D,"DIV",{});var W=B(a);c=T(W,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(c)!=="svelte-jjkzfs"&&(c.textContent=u),l=U(W),d=T(W,"INPUT",{id:!0,type:!0,class:!0}),W.forEach(q),h=U(D),f=T(D,"DIV",{class:!0});var Z=B(f);p=T(Z,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(p)!=="svelte-k332hw"&&(p.textContent=m),b=U(Z),w=T(Z,"INPUT",{id:!0,type:!0,class:!0}),Z.forEach(q),S=U(D),x=T(D,"DIV",{class:!0});var te=B(x);O=T(te,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),G(O)!=="svelte-1ur2s9t"&&(O.textContent=I),j=U(te),g=T(te,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),G(g)!=="svelte-n25c"&&(g.textContent=v),te.forEach(q),D.forEach(q),L.forEach(q),z.forEach(q),this.h()},h(){E(n,"class","modal-header svelte-1q05030"),E(c,"for","username"),E(c,"class","block text-sm font-medium text-gray-700"),E(d,"id","username"),E(d,"type","text"),E(d,"class","mt-1 block w-full p-2 border border-gray-300 rounded-md"),d.required=!0,E(p,"for","password"),E(p,"class","block text-sm font-medium text-gray-700"),E(w,"id","password"),E(w,"type","password"),E(w,"class","mt-1 block w-full p-2 border border-gray-300 rounded-md"),w.required=!0,E(f,"class","mt-4"),E(O,"type","button"),E(O,"class","px-4 py-2 bg-gray-500 text-white rounded-md"),E(g,"type","submit"),E(g,"class","px-4 py-2 bg-green-500 text-white rounded-md"),E(x,"class","mt-6 flex justify-between"),E(r,"class","modal-content svelte-1q05030"),E(e,"class","modal svelte-1q05030")},m($,z){Q($,e,z),C(e,r),C(r,n),C(r,o),C(r,i),C(i,a),C(a,c),C(a,l),C(a,d),X(d,t[4]),C(i,h),C(i,f),C(f,p),C(f,b),C(f,w),X(w,t[5]),C(i,S),C(i,x),C(x,O),C(x,j),C(x,g),_||(F=[Y(d,"input",t[11]),Y(w,"input",t[12]),Y(O,"click",t[7]),Y(i,"submit",ur(t[9]))],_=!0)},p($,z){z&16&&d.value!==$[4]&&X(d,$[4]),z&32&&w.value!==$[5]&&X(w,$[5])},d($){$&&q(e),_=!1,ot(F)}}}function rr(t){let e,r,n,s="Login",o,i,a,c,u="Username",l,d,h,f,p,m="Password",b,w,S,x,O,I="Cancel",j,g,v="Login",_,F;return{c(){e=A("div"),r=A("div"),n=A("div"),n.textContent=s,o=M(),i=A("form"),a=A("div"),c=A("label"),c.textContent=u,l=M(),d=A("input"),h=M(),f=A("div"),p=A("label"),p.textContent=m,b=M(),w=A("input"),S=M(),x=A("div"),O=A("button"),O.textContent=I,j=M(),g=A("button"),g.textContent=v,this.h()},l($){e=T($,"DIV",{class:!0});var z=B(e);r=T(z,"DIV",{class:!0});var L=B(r);n=T(L,"DIV",{class:!0,"data-svelte-h":!0}),G(n)!=="svelte-o0u7t7"&&(n.textContent=s),o=U(L),i=T(L,"FORM",{});var D=B(i);a=T(D,"DIV",{});var W=B(a);c=T(W,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(c)!=="svelte-jjkzfs"&&(c.textContent=u),l=U(W),d=T(W,"INPUT",{id:!0,type:!0,class:!0}),W.forEach(q),h=U(D),f=T(D,"DIV",{class:!0});var Z=B(f);p=T(Z,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(p)!=="svelte-p5t3wc"&&(p.textContent=m),b=U(Z),w=T(Z,"INPUT",{id:!0,type:!0,class:!0}),Z.forEach(q),S=U(D),x=T(D,"DIV",{class:!0});var te=B(x);O=T(te,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),G(O)!=="svelte-k5zysy"&&(O.textContent=I),j=U(te),g=T(te,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),G(g)!=="svelte-1tm7ueg"&&(g.textContent=v),te.forEach(q),D.forEach(q),L.forEach(q),z.forEach(q),this.h()},h(){E(n,"class","modal-header svelte-1q05030"),E(c,"for","username"),E(c,"class","block text-sm font-medium text-gray-700"),E(d,"id","username"),E(d,"type","text"),E(d,"class","mt-1 block w-full p-2 border border-gray-300 rounded-md"),d.required=!0,E(p,"for","login-password"),E(p,"class","block text-sm font-medium text-gray-700"),E(w,"id","login-password"),E(w,"type","password"),E(w,"class","mt-1 block w-full p-2 border border-gray-300 rounded-md"),w.required=!0,E(f,"class","mt-4"),E(O,"type","button"),E(O,"class","px-4 py-2 bg-gray-500 text-white rounded-md"),E(g,"type","submit"),E(g,"class","px-4 py-2 bg-blue-500 text-white rounded-md"),E(x,"class","mt-6 flex justify-between"),E(r,"class","modal-content svelte-1q05030"),E(e,"class","modal svelte-1q05030")},m($,z){Q($,e,z),C(e,r),C(r,n),C(r,o),C(r,i),C(i,a),C(a,c),C(a,l),C(a,d),X(d,t[4]),C(i,h),C(i,f),C(f,p),C(f,b),C(f,w),X(w,t[5]),C(i,S),C(i,x),C(x,O),C(x,j),C(x,g),_||(F=[Y(d,"input",t[13]),Y(w,"input",t[14]),Y(O,"click",t[8]),Y(i,"submit",ur(t[10]))],_=!0)},p($,z){z&16&&d.value!==$[4]&&X(d,$[4]),z&32&&w.value!==$[5]&&X(w,$[5])},d($){$&&q(e),_=!1,ot(F)}}}function nr(t){let e=[],r=new Map,n,s,o="Submit",i,a,c=Te(t[0]);const u=l=>l[21]._id;for(let l=0;l<c.length;l+=1){let d=Kt(t,c,l),h=u(d);r.set(h,e[l]=ir(h,d))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();n=M(),s=A("button"),s.textContent=o,this.h()},l(l){for(let d=0;d<e.length;d+=1)e[d].l(l);n=U(l),s=T(l,"BUTTON",{class:!0,"data-svelte-h":!0}),G(s)!=="svelte-40sfdz"&&(s.textContent=o),this.h()},h(){E(s,"class","mt-4 px-4 py-2 bg-green-500 text-white rounded-md")},m(l,d){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(l,d);Q(l,n,d),Q(l,s,d),i||(a=Y(s,"click",t[6]),i=!0)},p(l,d){d&3&&(c=Te(l[0]),e=lr(e,d,u,1,l,c,r,n.parentNode,cr,ir,n,Kt))},d(l){l&&(q(n),q(s));for(let d=0;d<e.length;d+=1)e[d].d(l);i=!1,a()}}}function Ao(t){let e,r,n;function s(){t[17].call(e,t[24])}return{c(){e=A("input"),this.h()},l(o){e=T(o,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){E(e,"type","text"),E(e,"class","input-field border border-gray-300 rounded-md p-2 w-full mt-2 svelte-1q05030"),E(e,"placeholder","Your answer here")},m(o,i){Q(o,e,i),X(e,t[1][t[24].question_id]),r||(n=Y(e,"input",s),r=!0)},p(o,i){t=o,i&3&&e.value!==t[1][t[24].question_id]&&X(e,t[1][t[24].question_id])},d(o){o&&q(e),r=!1,n()}}}function To(t){let e,r=Te(t[24].options),n=[];for(let s=0;s<r.length;s+=1)n[s]=sr(er(t,r,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Ft()},l(s){for(let o=0;o<n.length;o+=1)n[o].l(s);e=Ft()},m(s,o){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,o);Q(s,e,o)},p(s,o){if(o&3){r=Te(s[24].options);let i;for(i=0;i<r.length;i+=1){const a=er(s,r,i);n[i]?n[i].p(a,o):(n[i]=sr(a),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(s){s&&q(e),an(n,s)}}}function sr(t){let e,r,n,s=!1,o,i=t[27]+"",a,c,u,l;function d(){t[15].call(r,t[24])}return c=un(t[16][0],[t[26],t[23]]),{c(){e=A("label"),r=A("input"),o=M(),a=de(i),this.h()},l(h){e=T(h,"LABEL",{class:!0});var f=B(e);r=T(f,"INPUT",{type:!0,class:!0}),o=U(f),a=he(f,i),f.forEach(q),this.h()},h(){E(r,"type","radio"),r.__value=n=t[27],X(r,r.__value),E(r,"class","mr-2"),E(e,"class","block mt-2"),c.p(r)},m(h,f){Q(h,e,f),C(e,r),r.checked=r.__value===t[1][t[24].question_id],C(e,o),C(e,a),u||(l=Y(r,"change",d),u=!0)},p(h,f){t=h,f&1&&n!==(n=t[27])&&(r.__value=n,X(r,r.__value),s=!0),(s||f&3)&&(r.checked=r.__value===t[1][t[24].question_id]),f&1&&i!==(i=t[27]+"")&&Ke(a,i),f&1&&c.u([t[26],t[23]])},d(h){h&&q(e),c.r(),u=!1,l()}}}function or(t,e){let r,n,s,o,i=e[24].question_id+"",a,c,u=e[24].text+"",l,d;function h(m,b){return m[24].options&&m[24].options.length>0?To:Ao}let f=h(e),p=f(e);return{key:t,first:null,c(){r=A("div"),n=A("div"),s=A("span"),o=de("Question ID: "),a=de(i),c=de(" - "),l=de(u),d=M(),p.c(),this.h()},l(m){r=T(m,"DIV",{class:!0});var b=B(r);n=T(b,"DIV",{class:!0});var w=B(n);s=T(w,"SPAN",{});var S=B(s);o=he(S,"Question ID: "),a=he(S,i),S.forEach(q),c=he(w," - "),l=he(w,u),w.forEach(q),d=U(b),p.l(b),b.forEach(q),this.h()},h(){E(n,"class","question-text svelte-1q05030"),E(r,"class","question-container svelte-1q05030"),this.first=r},m(m,b){Q(m,r,b),C(r,n),C(n,s),C(s,o),C(s,a),C(n,c),C(n,l),C(r,d),p.m(r,null)},p(m,b){e=m,b&1&&i!==(i=e[24].question_id+"")&&Ke(a,i),b&1&&u!==(u=e[24].text+"")&&Ke(l,u),f===(f=h(e))&&p?p.p(e,b):(p.d(1),p=f(e),p&&(p.c(),p.m(r,null)))},d(m){m&&q(r),p.d()}}}function ir(t,e){let r,n,s=e[21].title+"",o,i,a=[],c=new Map,u=Te(e[21].questions);const l=d=>d[24]._key;for(let d=0;d<u.length;d+=1){let h=Zt(e,u,d),f=l(h);c.set(f,a[d]=or(f,h))}return{key:t,first:null,c(){r=A("div"),n=A("h2"),o=de(s),i=M();for(let d=0;d<a.length;d+=1)a[d].c();this.h()},l(d){r=T(d,"DIV",{class:!0});var h=B(r);n=T(h,"H2",{});var f=B(n);o=he(f,s),f.forEach(q),i=U(h);for(let p=0;p<a.length;p+=1)a[p].l(h);h.forEach(q),this.h()},h(){E(r,"class","survey-container"),this.first=r},m(d,h){Q(d,r,h),C(r,n),C(n,o),C(r,i);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(r,null)},p(d,h){e=d,h&1&&s!==(s=e[21].title+"")&&Ke(o,s),h&3&&(u=Te(e[21].questions),a=lr(a,h,l,1,e,u,c,r,cr,or,null,Zt))},d(d){d&&q(r);for(let h=0;h<a.length;h+=1)a[h].d()}}}function jo(t){let e,r,n,s="Survey App",o,i,a='<li><a href="/frontend/static" class="text-gray-300 hover:text-white">Home</a></li> <li><a href="/about" class="text-gray-300 hover:text-white">About</a></li> <li><a href="/contact" class="text-gray-300 hover:text-white">Contact</a></li>',c,u,l,d="Sign Up",h,f,p="Login",m,b,w,S,x,O,I=t[2]&&tr(t),j=t[3]&&rr(t),g=t[0]&&nr(t);return{c(){e=A("header"),r=A("nav"),n=A("div"),n.textContent=s,o=M(),i=A("ul"),i.innerHTML=a,c=M(),u=A("div"),l=A("button"),l.textContent=d,h=M(),f=A("button"),f.textContent=p,m=M(),I&&I.c(),b=M(),j&&j.c(),w=M(),g&&g.c(),S=de(`\r
hellloos`),this.h()},l(v){e=T(v,"HEADER",{class:!0});var _=B(e);r=T(_,"NAV",{class:!0});var F=B(r);n=T(F,"DIV",{class:!0,"data-svelte-h":!0}),G(n)!=="svelte-141afbp"&&(n.textContent=s),o=U(F),i=T(F,"UL",{class:!0,"data-svelte-h":!0}),G(i)!=="svelte-14j4dzc"&&(i.innerHTML=a),c=U(F),u=T(F,"DIV",{});var $=B(u);l=T($,"BUTTON",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-ci5xlk"&&(l.textContent=d),h=U($),f=T($,"BUTTON",{class:!0,"data-svelte-h":!0}),G(f)!=="svelte-1vjkrm3"&&(f.textContent=p),$.forEach(q),F.forEach(q),_.forEach(q),m=U(v),I&&I.l(v),b=U(v),j&&j.l(v),w=U(v),g&&g.l(v),S=he(v,`\r
hellloos`),this.h()},h(){E(n,"class","text-white text-lg font-bold"),E(i,"class","flex space-x-6"),E(l,"class","px-4 py-2 bg-green-500 text-white rounded-md"),E(f,"class","px-4 py-2 bg-blue-500 text-white rounded-md ml-4"),E(r,"class","max-w-7xl mx-auto flex justify-between items-center"),E(e,"class","bg-gray-800 p-4")},m(v,_){Q(v,e,_),C(e,r),C(r,n),C(r,o),C(r,i),C(r,c),C(r,u),C(u,l),C(u,h),C(u,f),Q(v,m,_),I&&I.m(v,_),Q(v,b,_),j&&j.m(v,_),Q(v,w,_),g&&g.m(v,_),Q(v,S,_),x||(O=[Y(l,"click",t[7]),Y(f,"click",t[8])],x=!0)},p(v,[_]){v[2]?I?I.p(v,_):(I=tr(v),I.c(),I.m(b.parentNode,b)):I&&(I.d(1),I=null),v[3]?j?j.p(v,_):(j=rr(v),j.c(),j.m(w.parentNode,w)):j&&(j.d(1),j=null),v[0]?g?g.p(v,_):(g=nr(v),g.c(),g.m(S.parentNode,S)):g&&(g.d(1),g=null)},i:$t,o:$t,d(v){v&&(q(e),q(m),q(b),q(w),q(S)),I&&I.d(v),j&&j.d(v),g&&g.d(v),x=!1,ot(O)}}}function ko(t,e,r){let n=null,s={},o=!1,i=!1,a=!1,c="",u="",l=null;rn(async()=>{try{const g=await fetch("http://localhost:3000/api/questions");g.ok?(r(0,n=await g.json()),console.log(n)):console.error("Failed to fetch questions")}catch(g){console.error("Error fetching survey data:",g)}});async function d(){try{const g=await fetch("http://localhost:3000/api/answers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({responses:s,user_id:l})}),v=await g.json();g.ok?alert("Survey submitted successfully!"):console.error("Survey submission failed:",v.error)}catch(g){console.error("Error submitting survey:",g)}}function h(){r(2,o=!o)}function f(){r(3,i=!i)}async function p(g){g.preventDefault();try{const v=await fetch("http://localhost:3000/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,password:u})}),_=await v.json();v.ok?console.log("Registration successful",_):console.error("Registration Error:",_.error)}catch(v){console.error("Registration Error:",v)}}async function m(g){g.preventDefault();try{const v=await fetch("http://localhost:3000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,password:u})}),_=await v.json();v.ok?(console.log("Login successful"),l=_.user_id,a=!0,r(3,i=!1),r(0,n=await Io.fetch('*[_type == "survey"]{title, questions}')),alert("Login successful!")):console.error("Login Error:",_.error)}catch(v){console.error("Login Error:",v)}}const b=[[]];function w(){c=this.value,r(4,c)}function S(){u=this.value,r(5,u)}function x(){c=this.value,r(4,c)}function O(){u=this.value,r(5,u)}function I(g){s[g.question_id]=this.__value,r(1,s)}function j(g){s[g.question_id]=this.value,r(1,s)}return[n,s,o,i,c,u,d,h,f,p,m,w,S,x,O,I,b,j]}class Lo extends sn{constructor(e){super(),on(this,e,ko,jo,tn,{})}}export{Do as C,Lo as P};
